{"pages":[],"posts":[{"title":"Nuxt.js 2.x nuxt.config.js è¨­å®šæª”","text":"ç‰ˆæœ¬ï¼šnuxt 2.15.8 å…¨åç‚º Nuxt configuration fileï¼ŒåŠŸèƒ½åŒ Vue å°ˆæ¡ˆå…§ vue.config.js æª”ï¼Œå¦‚æœæˆ‘å€‘ä½¿ç”¨ create-nuxt-app ä¾†å»ºç½®å°ˆæ¡ˆï¼Œæœƒè‡ªå‹•ç”¢ç”Ÿé€™æ”¯æª”æ¡ˆï¼Œåœ¨æ­¤é…ç½®çš„å…§å®¹ï¼Œæœƒå…¨åŸŸè®€å–è¨­å®šã€‚ æ¥ä¸‹ä¾†ä»‹ç´¹ä¸€ä¸‹ä¸€äº›å¸¸ç”¨çš„è¨­å®š aliasè·¯å¾‘åˆ¥åï¼Œå¤§å®¶é‚„è¨˜å¾—åœ¨ Vue å°ˆæ¡ˆå…§ï¼Œå¦‚æœæ²’æœ‰è¨­å®šè·¯å¾‘åˆ¥åï¼Œå‰‡éœ€è¦å¯«ç›¸å°è·¯å¾‘ï¼ˆä¾‹å¦‚ï¼š../components/Navbar.vueï¼‰ï¼Œå°æ–¼ç¶­è­·å’Œé–‹ç™¼éƒ½å¾ˆä¸æ–¹ä¾¿ï¼Œä¸€äº›ç¨‹å¼ç¢¼æª¢æ ¸å·¥å…·ï¼Œç”šè‡³æœƒè¦–ç‚º bad smellï¼Œå› æ­¤æˆ‘å€‘æœƒåœ¨ vue.config.js æª”å…§çµ±ä¸€è¨­å®šè·¯å¾‘åˆ¥åã€‚ Nuxt å°ˆæ¡ˆå¾ˆè²¼å¿ƒçš„è‡ªå‹•é…ç½®äº†è·¯å¾‘åˆ¥åï¼Œé è¨­å€¼å¦‚ä¸‹ { '~~': `&lt;rootDir&gt;`, '@@': `&lt;rootDir&gt;`, '~': `&lt;srcDir&gt;`, '@': `&lt;srcDir&gt;`, 'assets': `&lt;srcDir&gt;/assets`, // (unless you have set a custom `dir.assets`) 'static': `&lt;srcDir&gt;/static`, // (unless you have set a custom `dir.static`)} å› æ­¤åœ¨å¼•å…¥å…ƒä»¶ Navbar æ™‚å¯ä»¥å¯«æˆ @/components/Navbar.vue å¦‚æœéœ€è¦æ›´æ”¹é…ç½®ä¹Ÿå¯ä»¥ import { resolve } from 'path';export default { alias: { 'images': resolve(__dirname, './assets/images'), '@static': resolve(__dirname, './static') }} ssrserver side renderï¼Œé è¨­ç‚º trueï¼Œå¦‚æœä¸éœ€ SEOï¼Œåªè¦ spa æ“ä½œï¼Œè¨­å®š ssr: false å³å¯ ğŸ’¡ èˆŠç‰ˆæœƒä½¿ç”¨ mode: 'spa' ä¾†é€²è¡Œè¨­å®šï¼Œä½†å®˜æ–¹æ–‡ä»¶æœ‰èªªæ˜ v2.14.5 ç‰ˆæœ¬é–‹å§‹å·²æ£„ç”¨ï¼Œæ”¹ç”¨ ssr: false export default { ssr: false // spa} serverç”¨ä¾†è¨­å®š portï¼ˆé è¨­ 3000ï¼‰ è·Ÿ hostï¼ˆé è¨­ localhostï¼‰ export default { server: { port: 8000, host: 'my-website' }} routeré…ç½® Nuxt è·¯ç”±ï¼ˆvue-routerï¼‰ï¼Œé€™è£¡ä»¥è¨­å®š base url èˆ‰ä¾‹ï¼Œå…¶ä»–è«‹åƒè€ƒå®˜æ–¹æ–‡ä»¶ export default { router: { base: '/backoffice/' }} headåœ¨ Vue å°ˆæ¡ˆï¼Œæˆ‘å€‘è¦è¨­å®š head å…§å®¹ï¼Œåªè¦åœ¨ public/index.html æª”è¨­å®šå°±å¥½äº†ï¼Œä½† Nuxt å°ˆæ¡ˆåˆè©²æ€éº¼è¨­å®šå‘¢ï¼Ÿ å…¨åŸŸè¨­å®š åœ¨ nuxt.config.js æª” head å…§å³å¯å…¨åŸŸè¨­å®šï¼Œé€šå¸¸åœ¨å»ºç«‹å°ˆæ¡ˆæœƒé å…ˆå¸¶å…¥ export default { head: { title: 'test', htmlAttrs: { lang: 'en' }, meta: [ { charset: 'utf-8' }, { name: 'viewport', content: 'width=device-width, initial-scale=1' }, { hid: 'description', name: 'description', content: '' }, { name: 'format-detection', content: 'telephone=no' } ], link: [ { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' } ] }} é€™æ¨£æ‰€æœ‰é é¢éƒ½å¯ä»¥è®€åˆ° head è¨­å®š å–®é è¨­å®š Nuxt å°ˆæ¡ˆå¾ˆé‡è¦çš„ä¸€é»æ˜¯ SEO æ•ˆèƒ½å„ªåŒ–ï¼ŒåŸºæ–¼é€™é»ï¼Œé€šå¸¸æœƒéœ€è¦ä¾ç…§å„é è¨­å®šè‡ªå·±çš„ SEOï¼Œä¾‹å¦‚pages/about.vue é é¢çš„ title å’Œ description è¦å–®ç¨è¨­å®šï¼Œæ–¹æ³•ä¹Ÿå¾ˆç°¡å–® export default { head: { title: 'é—œæ–¼æˆ‘å€‘', meta: [ { hid: 'description', name: 'description', content: 'é€™æ˜¯é—œæ–¼æˆ‘å€‘é é¢' } ] }} åœ¨å„é é¢è¨­å®šçš„å…§å®¹å„ªå…ˆåº¦è¼ƒé«˜ï¼Œæœƒè¦†å¯«å…¨åŸŸè¨­å®šçš„ head å…§å®¹ï¼Œå› æ­¤ç•¶æˆ‘å€‘é–‹å•Ÿ about é é¢ï¼Œæœƒçœ‹åˆ° title è®Šæˆ é—œæ–¼æˆ‘å€‘ã€description è®Šæˆ é€™æ˜¯é—œæ–¼æˆ‘å€‘é é¢ï¼Œå…¶ä»–é…ç½®å‰‡ä¾ç…§ nuxt.config.js æª” csså¼•å…¥å…¨åŸŸä½¿ç”¨çš„ css æª”ï¼Œåƒæ˜¯å¤–éƒ¨å¥—ä»¶ï¼Œæˆ–æ˜¯è‡ªè¨‚æª”ï¼Œå¦‚æœè¦ä½¿ç”¨ sassï¼Œå¿…é ˆå®‰è£ sass-loader npm install --save-dev sass sass-loader export default { css: [ // å¤–éƒ¨å¥—ä»¶ { src: 'bootstrap-icons/font/bootstrap-icons.css' }, // scss æª” { src: '@/assets/scss/app.scss', lang: 'scss' } ]} pluginså…¨å±€å¼•å…¥å¤–éƒ¨å¥—ä»¶ï¼Œä»¥ vue-notification èˆ‰ä¾‹ï¼Œåœ¨ plugins æ–°å¢ notification.js æª” // plugins/notification.jsimport Vue from 'vue';import Notifications from 'vue-notification';Vue.use(Notifications); åœ¨ nuxt.config.js é…ç½® plugins export default { plugins: [ { src: '@/plugins/notification.js' } ]} å°±å¯ä»¥åœ¨æ‰€æœ‰é é¢ä¸­ä½¿ç”¨è©²å¥—ä»¶ &lt;Notifications&gt;&lt;/Notifications&gt; componentså¦‚è¨­å®šç‚º trueï¼Œæœƒå…¨å±€å¼•å…¥å…ƒä»¶ï¼Œä½¿ç”¨æ–¹å¼åªè¦éµå¾ªè³‡æ–™å¤¾çµæ§‹è¼¸å…¥å…ƒä»¶åç¨±å°±å¯ä»¥äº† export default { components: true} ç¯„ä¾‹ï¼š å…ƒä»¶è·¯å¾‘ï¼šcomponents/home/Banner.vue ä½¿ç”¨å…ƒä»¶ï¼š&lt;HomeBanner&gt;&lt;/HomeBanner&gt; buildModulesç”¨ä¾†é…ç½®åªåœ¨é–‹ç™¼ç’°å¢ƒä½¿ç”¨çš„æ¨¡çµ„ï¼Œè¨»å†Šåœ¨æ­¤å¯ä»¥è®“å°ˆæ¡ˆåœ¨ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²é€Ÿåº¦æå‡ï¼Œä¸¦æ¸›å°‘ node_modules å®¹é‡ï¼Œè©³æƒ…å¯ä»¥åƒè€ƒå„å¥—ä»¶çš„é…ç½®å»ºè­° @nuxtjs/eslint-module å¥—ä»¶å®˜æ–¹å»ºè­°é…ç½®æ–¼ buildModules export default { buildModules: [ '@nuxtjs/eslint-module' ]} ğŸ’¡ ä½¿ç”¨æ¢ä»¶ï¼šNuxt ç‰ˆæœ¬å¿…é ˆå¤§æ–¼ v2.9 modulesç”¨ä¾†é…ç½®é–‹ç™¼ç’°å¢ƒèˆ‡ç”Ÿç”¢ç’°å¢ƒå…±ç”¨æ¨¡çµ„ï¼ŒbuildModules åŠ modules é…ç½®ä½ç½®è©³è«‹åƒè€ƒå„å¥—ä»¶å»ºè­° export default { modules: [ '@nuxtjs/style-resources' ]} styleResourcesç”¨ä¾†æ³¨å…¥å…¨åŸŸå…±ç”¨ sass, scssï¼Œå¦‚æœä¸å¼•å…¥ï¼Œåœ¨å„é é¢ï¼ˆ.vueï¼‰å…§çš„ style æœƒç„¡æ³•ä½¿ç”¨åƒæ˜¯ mixin ç­‰çš„å¸¸ç”¨è®Šæ•¸ï¼Œæˆ–æ˜¯è¦åœ¨å„é é¢å–®ç¨ @import scss æª” é¦–å…ˆå¿…é ˆå¦å¤–å®‰è£ @nuxtjs/style-resources å¥—ä»¶ åŸ·è¡Œï¼šnpm i @nuxtjs/style-resources åœ¨ nuxt.config.js æª”è¨­å®š export default { modules: [ '@nuxtjs/style-resources' ], styleResources: { scss: [ '@/assets/scss/components/_color.scss', '@/assets/scss/components/_mixin.scss' ] }} é€™æ¨£å°±å¯ä»¥é”åˆ°è®Šæ•¸å…±ç”¨äº† ğŸ’¡ å®˜æ–¹æ–‡ä»¶ æåˆ°ï¼Œè«‹å‹¿å¼•å…¥å¯¦éš›çš„ css æ¨£å¼ï¼Œå› ç‚ºæ¯å€‹é é¢è·Ÿå…ƒä»¶éƒ½æœƒé‡è¤‡ç·¨è­¯ï¼Œé€ æˆç³»çµ±æ¥µå¤§è² æ“”ï¼ˆç­†è€…è¸©å‘éOQï¼‰ï¼Œå»ºè­°åªæ³¨å…¥è®Šæ•¸, mixinsï¼Œå› ç‚ºé€™äº›å€¼åœ¨ç·¨è­¯å¾Œå°±æœƒæ¶ˆå¤±äº†ã€‚ buildå®¢è£½åŒ– webpack è¨­å®šï¼Œé€™è£¡èˆ‰ä¾‹ï¼Œåœ¨é–‹ç™¼æ™‚ï¼Œç™¼ç¾åœ¨ Vue æ¨£æ¿ç„¡æ³•ä½¿ç”¨å¯é¸ä¸²é€£ Optional Chainingï¼ˆes2020èªæ³•ï¼‰ï¼Œç ”ç©¶å¾Œç™¼ç¾å¿…é ˆéœ€å®‰è£æ“´å……å¥—ä»¶ npm install vue-template-babel-compiler --save-dev æ¥è‘—åœ¨ nuxt.config.js æª”è¨­å®šï¼Œå°±å¯ä»¥æˆåŠŸä½¿ç”¨å›‰ export default { build: { loaders: { vue: { compiler: require('vue-template-babel-compiler') } } }} LoadingLoading æ•ˆæœï¼ŒåŸºç¤è¨­å®šå¦‚ä¸‹ï¼ˆåƒæ•¸é¸é …ï¼‰ export default { loading: { color: 'black', height: '5px', continuous: true }} å¦‚æœæƒ³è‡ªè¨‚æ›´å¤šæ¨£å¼ï¼Œä¹Ÿå¯ä»¥åŒ…è£æˆå…ƒä»¶å¾Œå¼•å…¥ export default { loading: '@/components/TheLoading.vue'} envç”¨ä¾†å®šç¾©å…¨å±€å…±ç”¨çš„ç’°å¢ƒè®Šæ•¸ï¼ŒNuxt å°ˆæ¡ˆé è¨­åªæœ‰ nuxt.config.js æª”å…§å¯ä»¥è®€å–ç’°å¢ƒè®Šæ•¸ï¼Œ å› æ­¤å¦‚æœè¦è®“ .vue æª”æˆ–æ˜¯ .js æª”è®€åˆ°è®Šæ•¸ï¼Œé€™è£¡æä¾›ä»¥ä¸‹å…©å€‹åšæ³•ï¼š æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨ nuxt.config.js æª”å…§é…ç½®å±¬æ€§ export default { env: { BASE_URL: process.env.BASE_URL }} ä½†æœ‰æ™‚è®Šæ•¸å¤šï¼Œä¸æƒ³å„åˆ¥é…ç½®ï¼Œå¯ä»¥æ¡ç”¨æ–¹æ³•äºŒ æ–¹æ³•äºŒï¼šå®‰è£å¥—ä»¶ @nuxtjs/dotenv åŸ·è¡Œï¼šnpm i @nuxtjs/dotenvï¼Œåœ¨ modules å…§è¨­å®šï¼š export default { modules: [ '@nuxtjs/dotenv' ]} é€™æ¨£å°±å¯ä»¥å…¨åŸŸä½¿ç”¨ .env è®Šæ•¸å›‰ã€‚ å°ˆæ¡ˆå¦‚æœæœ‰å€åˆ†é–‹ç™¼è·Ÿç”Ÿç”¢ç’°å¢ƒ .env æª”ï¼Œä¹Ÿå¯ä»¥è¨­å®šå¦‚ä¸‹ï¼š export default { modules: [ [ '@nuxtjs/dotenv', { filename: `.env.${process.env.ENV}` } ] ]} ğŸ’¡ ä½¿ç”¨æ–¹æ³•äºŒéœ€æ³¨æ„ï¼Œè®Šæ•¸å¦‚æœå…§å«è®Šæ•¸ï¼Œæœƒè®€å–ä¸åˆ°ç¬¬äºŒå±¤çš„è®Šæ•¸ï¼ˆé¥’å£ï¼‰ï¼Œç›´æ¥æä¾›ç¯„ä¾‹ï¼Œå‡è¨­åœ¨ .env æª”å…§æœ‰å…©å€‹è®Šæ•¸BASE_DOMAIN=my-websitesBASE_URL=\"http://${BASE_DOMAIN}\"åœ¨ .vue æª”ç›´æ¥ä½¿ç”¨ process.env.BASE_URLï¼Œå–å¾—å€¼ç‚º http://${BASE_DOMAIN}ï¼Œç„¡æ³•è§£ææˆ http://my-websitesï¼Œæ­¤æƒ…æ³é‚„æ˜¯éœ€æ­é…æ–¹æ³•ä¸€ä½¿ç”¨ åƒè€ƒæ–‡ç« ï¼š https://ithelp.ithome.com.tw/articles/10207330 https://nuxtjs.org/docs/configuration-glossary https://hackmd.io/@xq/nuxt-config","link":"/2022/12/03/nuxt/nuxt-config-setting/"},{"title":"Nuxt.js 2.x å°ˆæ¡ˆæ¶è¨­","text":"ç‰ˆæœ¬ï¼šnuxt 2.15.8 èªªåˆ° Nuxtï¼Œå¿…é ˆå…ˆå¾ Vue.js èªªèµ·ï¼ŒVue.js ç‚ºå°ˆæ³¨åœ¨è¦–åœ–å±¤(View) çš„ JS æ¡†æ¶ï¼Œç‚º SPAï¼ˆSingle Page Applicationï¼‰æ‡‰ç”¨ç¨‹å¼ï¼Œç°¡è€Œè¨€ä¹‹æ•´å€‹ç¶²ç«™æ‡‰ç”¨åªæœ‰å–®ä¸€é é¢ï¼Œä¸€ä½†é é¢è¢«åŠ è¼‰é€²ä¾†å¾Œï¼Œå°±ä¸æœƒå†é€²è¡Œè©²é é¢è«‹æ±‚ï¼Œç”±æ–¼ Vue æ˜¯åˆ©ç”¨ JS è¼‰å…¥è³‡æ–™ï¼Œä¸¦å‹•æ…‹ç”¢ç”Ÿå…ƒä»¶ï¼ŒSEO åªèƒ½æŠ“å–åˆ° HTML å…§å®¹ï¼Œå› æ­¤ SEO è¡¨ç¾è¶¨è¿‘æ–¼é›¶ã€‚ è€Œ Nuxt æ˜¯åŸºæ–¼ Vue.jsã€Node.jsã€Webpack ä»¥åŠ Badel.js çš„è¼•é‡æ¡†æ¶ï¼Œå¯ä»¥åŒæ™‚å‰µå»º SSRï¼ˆServer Side Renderï¼‰åŠ SPAï¼Œåœ¨é é¢è¼‰å…¥å‰å³æ¸²æŸ“ï¼ˆä¼ºæœå™¨å›å‚³å®Œæ•´ HTML æª”ï¼Œæ¯æ¬¡è·³è½‰é é¢ï¼Œç€è¦½å™¨éƒ½éœ€è¦åˆ·æ–°ï¼‰ï¼Œæœå°‹å¼•æ“çˆ¬èŸ²å¯ä»¥å–å¾—è³‡æ–™ï¼Œå¤§å¹…è§£æ±º SEO çš„å•é¡Œã€‚ ä»¥ä¸‹åœ–ç‰‡èªªæ˜ï¼š æ¥ä¸‹ä¾†ä¸€èµ·ä¾†å˜—è©¦å‰µå»ºä¸€å€‹ Nuxt å°ˆæ¡ˆå§ï¼ å¦‚åŒ Vue CLIï¼ŒNuxt ä¹Ÿæœ‰é¡ä¼¼çš„æŒ‡ä»¤åˆ—(command-line)å·¥å…· create-nuxt-appï¼Œ ä¾æ“šå®˜æ–¹æ–‡ä»¶æä¾›çš„å°ˆæ¡ˆåŒ…å»ºç½®æ–¹å¼ï¼š npx create-nuxt-app &lt;project-name&gt; ğŸ’¡ ä½¿ç”¨ npx å®‰è£ï¼Œå®‰è£çš„å¥—ä»¶åœ¨åŸ·è¡Œå®Œå¾Œå°±æœƒè¢«ç§»é™¤ npxä»‹ç´¹ æ¥è‘—æœƒè·‘å‡ºä¸€äº›é¸é …ï¼š Project nameï¼šè¨­å®šå°ˆæ¡ˆåç¨± Programming languageï¼šé¸æ“‡ç¨‹å¼èªè¨€ Package managerï¼šè»Ÿé«”å¥—ä»¶ç®¡ç†ç³»çµ± npm / yarn UI frameworkï¼šcss æ¨¡æ¿ Template engineï¼šæ¨£ç‰ˆå¼•æ“ Nuxt.js modulesï¼šç›¸ä¾å¥—ä»¶ Linting toolsï¼šç¨‹å¼ç¢¼æª¢æŸ¥å·¥å…· Testing frameworkï¼šæ¸¬è©¦å·¥å…· Rendering modeï¼šæ¸²æŸ“æ¨¡å¼ Deployment targetï¼šé‹è¡Œæ¨¡å¼ ï¼ˆåœ¨æ­¤ç¤ºç¯„ Server Side Render) Development toolsï¼šé–‹ç™¼å·¥å…· Version control systemï¼šç‰ˆæ§å·¥å…· ä»¥ä¸Šé¸æ“‡å®Œç•¢å°±é–‹å§‹å®‰è£å°ˆæ¡ˆåŒ… é‹è¡Œå®Œæˆå°±å¯ä»¥é–‹å§‹ç·¨è­¯å°ˆæ¡ˆ è·Ÿè‘—æç¤ºè¨Šæ¯åŸ·è¡Œï¼š cd testnpm run dev åœ¨ package.json å…§å¯ä»¥çœ‹åˆ°ç›¸é—œæŒ‡ä»¤ \"scripts\": { \"dev\": \"nuxt\", \"build\": \"nuxt build\", \"start\": \"nuxt start\", \"generate\": \"nuxt generate\"} æ¥ä¸‹ä¾†å°±å¯ä»¥çœ‹åˆ°ç•«é¢å›‰ ğŸ‘ åƒè€ƒæ–‡ç« ï¼š https://medium.com/web-design-zone/å»ºç«‹nuxt-jså°ˆæ¡ˆåˆé«”é©—-21920735e38b https://levelup.gitconnected.com/spa-ssg-ssr-and-jamstack-a-front-end-acronyms-guide-6add9543f24d","link":"/2022/12/02/nuxt/nuxt-installation/"},{"title":"Nuxt.js 2.x ç›®éŒ„çµæ§‹","text":"ç‰ˆæœ¬ï¼šnuxt 2.15.8 ä½¿ç”¨ create-nuxt-app å®‰è£å®Œæˆå¾Œï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹çš„è³‡æ–™å¤¾çµæ§‹ assets, layouts, middleware, mixins, plugins ä»¥ä¸Šè³‡æ–™å¤¾åœ¨ç•¶å‰ç‰ˆæœ¬æ˜¯éœ€è¦æ‰‹å‹•å»ºç½®çš„ï¼Œ ä¾ç…§é †åºä»‹ç´¹å„è³‡æ–™å¤¾åŠŸèƒ½ï¼š assetsè·Ÿ Vue å°ˆæ¡ˆç›¸åŒï¼Œç”¨ä¾†å­˜æ”¾åƒæ˜¯ css, scss, images éœ€è¦è¢« webpack ç·¨è­¯çš„éœæ…‹è³‡æºï¼Œå¦‚ä¸éœ€è¢«ç·¨è­¯ï¼Œå‰‡å­˜æ”¾æ–¼ staticã€‚ componentsè‡ªè¨‚çš„å…ƒä»¶æª”ï¼Œä¾‹å¦‚æˆ‘å€‘å¸¸æœƒå»ºç«‹å…±ç”¨çš„ Navbar.vue, Sidebar.vue â€¦ï¼Œé€šå¸¸ç‚ºå¤§å¯«å‘½åï¼Œç„¶å¾Œåœ¨éœ€è¦çš„é é¢å¼•å…¥è©²æª”æ¡ˆå³å¯ä½¿ç”¨ï¼Œä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸Šè·Ÿ Vue å°ˆæ¡ˆç›¸åŒã€‚ å¦‚æœä¸æƒ³è¦å€‹åˆ¥å¼•å…¥å…ƒä»¶ï¼ŒNuxt ä¹Ÿæœ‰æä¾›å¾ˆä¾¿åˆ©çš„ä½œæ³•ï¼Œåªè¦åœ¨ nuxt.config.js æª”å…§è¨­å®šï¼š // nuxt.config.jsexport default { components: true} å°±æœƒå…¨å±€å¼•å…¥å…ƒä»¶ï¼Œä½¿ç”¨æ–¹å¼åªè¦éµå¾ªè³‡æ–™å¤¾çµæ§‹è¼¸å…¥å…ƒä»¶åç¨±å°±å¯ä»¥äº† ç¯„ä¾‹ï¼š å…ƒä»¶è·¯å¾‘ï¼šcomponents/home/Banner.vue ä½¿ç”¨å…ƒä»¶ï¼š&lt;HomeBanner&gt;&lt;/HomeBanner&gt; layoutså…±ç”¨æ¨¡æ¿ã€‚ å¤§å®¶é‚„è¨˜å¾—åœ¨ Vue å°ˆæ¡ˆä¸‹ï¼Œåªè¦åœ¨ App.vueï¼Œæˆ–æ˜¯åœ¨ router å»ºç«‹ä¸€å€‹å·¢ç‹€è·¯ç”±ï¼Œå¤–å±¤è¨­å®šå…±ç”¨å®¹å™¨ï¼Œå†å°‡åµŒå¥—è·¯ç”±æ”¾å…¥ childrenï¼Œå­è·¯ç”±å°±å¯ä»¥å…±äº«å¤–å±¤æ¨¡æ¿ export default [ { path: '/products', component: Product, children: [ { path: 'food', component: Food }, { path: 'drink', component: Drink } ] }] ä½†æ˜¯åœ¨ Nuxt æ¶æ§‹ä¸‹ï¼Œä¸¦ä¸å­˜åœ¨ App.vue é€™éš»æª”æ¡ˆï¼Œrouter ä¹Ÿæœƒè‡ªå‹•é…ç½®ï¼Œé‚£è©²æ€éº¼åšåˆ°æ¨¡æ¿å…±ç”¨å‘¢ï¼Ÿå…¶å¯¦å¾ˆç°¡å–®ï¼Œåªè¦åœ¨ layouts è³‡æ–™å¤¾å…§ï¼Œæ–°å¢ default.vue æª”ï¼Œé è¨­æ‰€æœ‰ pages å…§çš„æª”æ¡ˆéƒ½æœƒå…±äº«è©²ç‰ˆé¢ // default.vue&lt;template&gt; &lt;div class=\"default-wrap\"&gt; &lt;Navbar /&gt; &lt;Nuxt /&gt; &lt;Footer /&gt; &lt;/div&gt;&lt;/template&gt; &lt;Nuxt /&gt; é¡ä¼¼ Vue çš„ &lt;router-view /&gt; ï¼ˆåµŒå¥—è·¯ç”±ï¼‰ å¦‚æœæƒ³è¦æ–°å¢æ›´å¤šæ¨¡æ¿ï¼Œåªè¦åœ¨ layouts å…§æ–°å¢æª”æ¡ˆï¼Œä¾‹å¦‚ layouts/products.vueï¼Œåœ¨æ¬²ä½¿ç”¨çš„é é¢å¼•å…¥ï¼Œè©²é å°±å¯ä»¥è®€åˆ° layouts/products.vue æ¨¡æ¿ // pages/food.vueexport default { layout: 'products'} middlewareå‰é¢æœ‰èªªåˆ° Nuxt å°ˆæ¡ˆæœƒè‡ªå‹•ä¾ pages å…§çš„è³‡æ–™å¤¾çµæ§‹ç”¢ç”Ÿå°æ‡‰çš„éœæ…‹/å‹•æ…‹è·¯ç”±ï¼Œ ä½†å¦‚æœèªªæˆ‘å€‘æƒ³è¦ä½¿ç”¨ è·¯ç”±å®ˆè¡›(Navigation Guards) ä¾†é€²è¡Œè·¯ç”±ç›£è½ï¼Œåƒæ˜¯ Vue router å…§çš„ beforeEach callbackï¼Œè©²æ€éº¼åšå‘¢ï¼Ÿ Vue å°ˆæ¡ˆï¼š // pages/food.vueconst router = new VueRouter({ mode: 'history', routes});router.beforeEach(async (to, from, next) =&gt; { if (!store.permissions.includes(route.path)) { next({ statusCode: 403 }); } next();});export default router; Nuxt å°ˆæ¡ˆï¼š æˆ‘å€‘å¯ä»¥æ‰‹å‹•å»ºç«‹ä¸€å€‹ middleware è³‡æ–™å¤¾ï¼Œåœ¨è£¡é¢æ–°å¢è¦é€²è¡Œè·¯ç”±ç›£è½çš„æª”æ¡ˆ routeAuth.js // middleware/routeAuth.jsexport default ({ from, route, redirect, store, error }) =&gt; { if (!store.isLogin) { redirect('/login'); } if (!store.permissions.includes(route.path)) { error({ statusCode: 403 }); }}; ç„¶å¾Œåœ¨éœ€è¦é€²è¡Œç›£è½çš„æª”æ¡ˆåŠ å…¥ middleware // layouts/default.vueexport default { middleware: 'routeAuth', data() { return {}; }} æˆ–æ˜¯åœ¨ nuxt.config.js è¨­å®šå…¨åŸŸç›£è½ // nuxt.config.jsexport default { router: { middleware: [ 'routeAuth' ] }} mixinsmixins æä¾›å½ˆæ€§æ–¹å¼è®“é é¢å¯ä»¥é‡è¤‡ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥åŒ…å«ä»»ä½• Vue çµ„ä»¶é …ç›®(data, computed, watch, ç”Ÿå‘½é€±æœŸ)ï¼Œå°‡å…±ç”¨æ–¹æ³•åŒ…è£é€²å»ï¼Œé¦–å…ˆåœ¨ mixins æ–°å¢æª”æ¡ˆ mixins/utils.js // mixins/utils.jsexport default { data() { return { number: 0 }; } methods: { count() { this.number++; } }}; å…¨åŸŸè¨»å†Šï¼š å…¨åŸŸå®£å‘Š mixin å‹™å¿…å°å¿ƒä½¿ç”¨ï¼Œå› ç‚ºæœƒå½±éŸ¿åˆ°æ‰€æœ‰ Vue æª”(pages, components) åœ¨ mixins æ–°å¢ä¸€æ”¯æª”æ¡ˆ global-mixins.jsï¼Œå°‡æ¬²å…¨åŸŸè¨»å†Šçš„æª”æ¡ˆåŠ å…¥ Vue å¯¦ä¾‹ // mixins/global-mixins.jsimport Vue from 'vue';import utils from '@/mixins/utils';// é¿å…é‡è¤‡è¨»å†Šif (!Vue.__utils_mixin__) { Vue.__utils_mixin__ = true; Vue.mixin(utils);} æ¥è‘—åŠ å…¥ nuxt.config.js å…§ // nuxt.config.jsexport default { plugins:[ { src: '@/mixins/global-mixins' } ]} å±€éƒ¨è¨»å†Šï¼š å±€éƒ¨è¨»å†Šå¾ˆç°¡å–®ï¼Œåªè¦åœ¨æ¬²ä½¿ç”¨æª”æ¡ˆå¼•å…¥å³å¯ï¼Œé€™è£¡å‡è¨­åœ¨ pages/about.vue // pages/about.vueimport utils from '@/mixins/utils';export default { name: 'About', mixins:[ utils ]} é€™æ¨£åœ¨ About é é¢å°±å¯ä»¥å–å¾—åƒæ•¸ number çš„å€¼è·Ÿå‘¼å« count() æ–¹æ³•å›‰ï¼ pagesä¸»è¦çš„é é¢æª”æ¡ˆï¼ŒNuxt å°ˆæ¡ˆæœƒè‡ªå‹•ä¾ç…§ pages å…§çš„è³‡æ–™å¤¾çµæ§‹é…ç½®è·¯ç”±ï¼Œ æ›å¥è©±èªªï¼Œå°±ä¸éœ€è¦åƒ Vue å°ˆæ¡ˆä¸€æ¨£éœ€è¦è‡ªè¡Œè¨­å®š vue-routerï¼Œç‚ºå°å¯«å‘½åï¼ˆå‘½åæœƒç›´æ¥æ˜¯è·¯å¾‘åç¨±ï¼‰ï¼Œæ¯å€‹ .vue æª”éƒ½æ˜¯å·²ç¶“è¢«è¨»å†Šçš„é é¢ ä»¥é¦–é ç‚ºä¾‹ï¼špages/index.vue â†’ http://localhost:3000 å·¢ç‹€è·¯ç”±ï¼š ç›´æ¥èˆ‰ä¾‹ï¼Œå…ˆå»ºç«‹ä¸€æ”¯æª”æ¡ˆ pages/about.vue // pages/about/index.vue&lt;template&gt; &lt;div&gt; aboutï¼š &lt;nuxt-child /&gt; &lt;/div&gt;&lt;/template&gt; æ¥åœ¨ about è³‡æ–™å¤¾æ–°å¢å…©éš»æª”æ¡ˆï¼Œå¯å–å¾—é…ç½®çš„å·¢ç‹€è·¯å¾‘å¦‚ä¸‹ pages/about/index.vue â†’ http://localhost:3000/about pages/about/claire.vue â†’ http://localhost:3000/about/claire å‹•æ…‹è·¯ç”±ï¼š å¦‚æœæƒ³è¦é¡¯ç¤ºå‹•æ…‹è·¯ç”±ï¼Œåªè¦åœ¨æª”åå‰åŠ ä¸Šä¸‹åº•ç·šå°±å¯ä»¥äº†ï¼š pages/about/ _name.vue â†’ http://localhost:3000/about/claire é€™æ¨£å°±å¯ä»¥åœ¨æª”æ¡ˆå…§å–å¾—å‹•æ…‹è·¯ç”±åƒæ•¸ // pages/about/_name.vueexport default { created () { console.log(this.$route.params.name); }} pluginsNuxt æ’ä»¶ï¼Œæ–¼ Vue.js åŸ·è¡Œå‰å¼•å…¥ç¬¬ä¸‰æ–¹å¥—ä»¶ï¼Œä»¥ vue-notification ç‚ºä¾‹ é¦–å…ˆä½¿ç”¨ npm å®‰è£ npm i vue-notification ç„¶å¾Œåœ¨ plugins è³‡æ–™å¤¾æ–°å¢ notification.js æª” // plugins/notification.jsimport Vue from 'vue';import Notifications from 'vue-notification';Vue.use(Notifications); åœ¨ nuxt.config.js é…ç½® plugins // nuxt.config.jsexport default { plugins: [ { src: '@/plugins/notification.js' } ]} å°±å¯ä»¥åœ¨æ‰€æœ‰é é¢ä¸­ä½¿ç”¨è©²å¥—ä»¶ &lt;Notifications&gt;&lt;/Notifications&gt; staticéœæ…‹è³‡æºè³‡æ–™å¤¾ï¼Œç”¨ä¾†å­˜æ”¾ä¸éœ€è¦è¢«ç·¨è­¯çš„æª”æ¡ˆï¼Œåƒæ˜¯åœ–ç‰‡æª”ï¼Œæˆ–æ˜¯å¯ä»¥ä¾›ä½¿ç”¨è€…ä¸‹è¼‰çš„ç¯„ä¾‹æª”ç­‰ï¼Œå¦‚éœ€è¢«ç·¨è­¯ï¼Œå‰‡å­˜æ”¾æ–¼ assetsã€‚ storeæ”¾ç½® Vuex ç‹€æ…‹ç®¡ç†å·¥å…·ï¼Œç”¨ä¾†å­˜æ”¾å…¨åŸŸå…±ç”¨çš„æ–¹æ³•ã€è³‡æ–™ï¼Œä½¿ç”¨æ–¹å¼èˆ‡ Vue å¤§è‡´ç›¸åŒï¼ŒVuex åœ¨ä½¿ç”¨æ™‚æœƒç¢°åˆ°ä¸€å€‹å•é¡Œï¼Œç•¶é é¢é‡æ–°æ•´ç†ï¼Œå…¶æœƒè¢«é‚„åŸç‚ºåˆå§‹ç‹€æ…‹ï¼Œè‡³æ–¼è¦æ€éº¼è§£æ±ºé€™å€‹å•é¡Œï¼Œå¾ŒçºŒæœƒå–®ç¨ä»‹ç´¹ã€‚ åƒè€ƒæ–‡ç« ï¼š https://israynotarray.com/vue/20211011/3406447097/ https://dev.to/husteadrobert/how-to-use-global-navigation-guards-with-nuxt-middleware-and-why-you-absolutely-should-not-7bl https://ithelp.ithome.com.tw/articles/10207822 https://medium.com/@seyijosh44/how-to-use-mixins-in-nuxt-js-826724fa251","link":"/2022/12/03/nuxt/nuxt-catalog/"},{"title":"Nuxt.js 2.x Lifecycle ç”Ÿå‘½é€±æœŸ","text":"ç‰ˆæœ¬ï¼šnuxt 2.15.8 Nuxt æœ€å¤§çš„ç‰¹é»å°±æ˜¯ Server Side Renderï¼Œå› æ­¤ä»–æœ‰ç¨ç«‹çš„ç”Ÿå‘½é€±æœŸï¼Œä¾†çœ‹ä¸€ä¸‹å®˜æ–¹æä¾›çš„åœ–ç‰‡ï¼š nuxtServerInitåªåœ¨ Nuxt ç’°å¢ƒåˆå§‹åŒ–æ™‚è§¸ç™¼ï¼Œç•¶æˆ‘å€‘æƒ³å°‡ server ç«¯è³‡æ–™æå‰å‚³çµ¦ client ç«¯ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œè¦æ³¨æ„åªèƒ½å¯«åœ¨ VueX store/index.js actions // store/index.jsexport const state = () =&gt; ({ userInfo: {}});export const mutations = { setUserInfo(state, value) { state.userInfo = value; }};export const actions = { nuxtServerInit({ commit }, { req }) { // req.session.user = { name: 'claire' } commit('setUserInfo', req.session.user); }}; é€™æ¨£å°±å¯ä»¥åœ¨ Nuxt åˆå§‹åŒ–æ™‚ï¼Œè§¸ç™¼ nuxtServerInit æ–¹æ³•ï¼Œå°‡å€¼å‚³å…¥ stateï¼Œæˆ‘å€‘å¯ä»¥å¾ç€è¦½å™¨ Vue é–‹ç™¼è€…å·¥å…·çœ‹åˆ°å…§å®¹ï¼š å¦‚æœæƒ³å°‡è³‡æ–™å‚³çµ¦å…¶ä»– VueX modulesï¼Œå¯ä»¥é€™æ¨£åšï¼š é¦–å…ˆæ–°å¢ä¸€æ”¯æª”æ¡ˆ store/greeting.js export const state = () =&gt; ({ message: ''});export const mutations = { setMessage(state, value) { state.message = value; }}; æ¥è‘—åœ¨ store/index.js å®šç¾© nuxtServerInit export const actions = { nuxtServerInit({ commit }, { req }) { commit('greeting/setMessage', 'Hello World!'); }}; é€™æ¨£å°±å¯ä»¥è§¸ç™¼ store/greeting.js setMessage æ–¹æ³•ï¼Œè¦‹ä¸‹åœ–é–‹ç™¼è€…å·¥å…· Route Middlewareä¸­é–“çµ„ä»¶ï¼Œåœ¨é é¢æ¸²æŸ“å‰åŸ·è¡Œï¼Œæœ‰ä¸‰ç¨®å®šç¾©æ–¹å¼ï¼ŒåŸ·è¡Œé †åºç‚ºï¼šGlobal â†’ Layout â†’ Page æ¥ä¸‹ä¾†åˆ†åˆ¥èªªæ˜è©²å¦‚ä½•å®šç¾© Global Middleware åœ¨ middleware è³‡æ–™å¤¾å…§å»ºç«‹æª”æ¡ˆï¼Œé€™è£¡å‘½åç‚º global.js export default ({ from, route, redirect, store, error }) =&gt; { console.log('global middleware'); if (!store.isLogin) { redirect('/login'); }}; æ¥è‘—åœ¨ nuxt.config.js é…ç½® export default { router: { middleware: [ 'global' ] }} Layout Middleware å»ºç«‹ middleware æª”æ¡ˆï¼Œé€™è£¡å‘½åç‚º middleware/layout.jsï¼Œç„¶å¾Œé…ç½®åˆ°ä»»ä¸€ layouts æª”æ¡ˆï¼Œç¯„ä¾‹ä½¿ç”¨ layouts/default.vue export default { name: 'Default', middleware: 'layout'}; æˆ–æ˜¯åŒ¿åé…ç½®ä¹Ÿå¯ä»¥ï¼š export default { name: 'Default', middleware({ from, route, redirect, store, error }) { console.log('layout middleware'); }}; Page Middleware æ¦‚å¿µåŒ layouts middlewareï¼Œé…ç½®æ–¼ä»»ä¸€ pages æª”æ¡ˆï¼Œç¯„ä¾‹ä½¿ç”¨ pages/about.vueï¼Œé€™è£¡ä½¿ç”¨åŒ¿åé…ç½®ä¾†èªªæ˜ export default { name: 'About', middleware({ from, route, redirect, store, error }) { console.log('page middleware'); }}; æ¥è‘—æˆ‘å€‘å¾é–‹ç™¼è€…å·¥å…·æŸ¥çœ‹ console çµæœä¾åºç‚ºä¸‹åœ–ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥é€é layout è·Ÿ page middleware ä¾†è¦†å¯« global middleware validateæ–¼ pages æª”æ¡ˆé…ç½®æ­¤æ–¹æ³•ï¼Œç”¨ä¾†é©—è­‰å‹•æ…‹è·¯ç”±åƒæ•¸æœ‰æ•ˆæ€§ï¼Œç¯„ä¾‹ä½¿ç”¨ pages/about/_userId.vue export default { name: 'User', validate({ params, query }) { return true; // é©—è­‰é€šé return false; // é©—è­‰ç„¡æ•ˆï¼Œæœƒè‡ªå‹•è½‰å° error page }} ğŸ’¡ é©—è­‰é€šéå¿…é ˆ return trueï¼Œå¦å‰‡æœƒè‡ªå‹•è½‰è·³ 404 error page asyncDataæ–¼ server ç«¯è™•ç†éåŒæ­¥çš„ç”Ÿå‘½é€±æœŸï¼Œåœ¨æ­¤å‚³å…¥çš„å…§å®¹å¯ä»¥è¢«æœå°‹å¼•æ“çˆ¬èŸ²å–å¾—ï¼Œæ˜¯æå‡ SEO æ•ˆèƒ½çš„é‡é»ç”Ÿå‘½é€±æœŸã€‚ åªæœƒåœ¨é é¢è¼‰å…¥æ™‚èª¿ç”¨ï¼Œç”±æ–¼ç”Ÿå‘½é€±æœŸåœ¨ Vue ä¹‹å‰ï¼Œå› æ­¤ç„¡æ³•å–å¾— this ï¼Œä¸” asyncData åƒ…é™ pages åº•ä¸‹é é¢ä½¿ç”¨ï¼Œæ–¹æ³•å…§æœƒè‡ªå‹•å¸¶å…¥ context åƒæ•¸ï¼Œæˆ‘å€‘å¯ä»¥å®‰è£ @nuxtjs/axios å¥—ä»¶ï¼Œaxios æœƒè¢«æ³¨å…¥é€² context å…§ï¼Œæˆ‘å€‘å¯ä»¥ç‰©ä»¶è§£æ§‹æ–¹å¼ä½¿ç”¨ï¼ˆ { $axios, params } = context )ï¼ˆç¯„ä¾‹ä½¿ç”¨ pages/about.vueï¼‰ export default { name: 'About', async asyncData({ $axios, params }) { const id = params.id; const { data } = await $axios.$get(`/api/user/${id}`); return { userName: data }; }} é€é return valueï¼Œè³‡æ–™è¢«è³¦äºˆé€² Vue å¯¦é«”ï¼Œæˆ‘å€‘é€é this.userName å³å¯æˆåŠŸå–å€¼ &lt;template&gt; &lt;div&gt; &lt;h1&gt;{{ userName }}&lt;/h1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { name: 'About', async asyncData({ $axios, params }) { const id = params.id; const { data } = await $axios.$get(`/api/user/${id}`); return { userName: data }; }}&lt;/script&gt; ğŸ’¡ data å¦‚æœæœ‰ç›¸åŒè®Šæ•¸åç¨±ï¼Œæœƒåœ¨ asyncData ç”Ÿå‘½é€±æœŸè¢«è¤‡å¯«ï¼Œæ‰€ä»¥é™¤ééœ€è¦å†æ¬¡ä¿®æ”¹è®Šæ•¸ï¼Œå¦å‰‡è«‹é¿å…é‡è¤‡å‘½åè®Šæ•¸ ğŸ’¡ asyncData æ˜¯åœ¨ server ç«¯ã€è·¯ç”±æ›´æ–°å‰å³èª¿ç”¨ï¼Œç”±æ–¼æ˜¯åœ¨ç€è¦½å™¨æ¸²æŸ“å‰çš„ç”Ÿå‘½é€±æœŸï¼Œå› æ­¤ç„¡æ³•ä½¿ç”¨ loading placeholderï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨ç€è¦½å™¨ç›¸é—œ API fetchNuxt v2.12 æ–°å¢åŠŸèƒ½ï¼ŒåŠŸèƒ½é¡ä¼¼ asyncData ï¼Œåœ¨ç•«é¢æ¸²æŸ“å‰ï¼ŒåŒæ™‚æ–¼ server ç«¯è·Ÿ client ç«¯çš„ç”Ÿå‘½é€±æœŸï¼Œå¯ä»¥ä½¿ç”¨æ–¼ä»»ä¸€ .vue é é¢ï¼Œç”±æ–¼æ˜¯åœ¨ Vue created ä¹‹å¾Œï¼Œå› æ­¤å¯ä»¥å–å¾— thisï¼Œåˆæ¬¡è¼‰å…¥é é¢æ™‚ï¼Œfetch æœƒåœ¨ server ç«¯åŸ·è¡Œï¼Œå¦‚æœæ˜¯é€é &lt;nuxt-link&gt; é€²è¡Œè·¯ç”±åˆ‡æ›ï¼Œfetch åœ¨ client ç«¯åŸ·è¡Œï¼Œå› æ­¤å¯ä»¥åœ¨æ­¤ç”Ÿå‘½é€±æœŸåŠ å…¥ loading æ•ˆæœ ğŸ’¡ &lt;nuxt-link&gt; ç‚º Nuxt çš„è·¯ç”±åˆ‡æ›å…ƒä»¶ï¼Œç›¸ç•¶æ–¼ Vue.js çš„ &lt;router-link&gt; ï¼Œå› æ­¤æˆ‘å€‘åªèƒ½ä½¿ç”¨å…§éƒ¨é€£çµï¼Œå¤–éƒ¨é€£çµå¿…é ˆä½¿ç”¨ &lt;a&gt; æ¨™ç±¤ï¼Œé€é &lt;nuxt-link&gt; åˆ‡æ›è·¯ç”±ï¼Œæœƒè¢«è¦–ç‚º SPA é é¢è·³è½‰ ä»¥ä¸‹èªªæ˜ä½¿ç”¨æ–¹å¼ &lt;template&gt; &lt;ul&gt; &lt;li v-for=\"(post, key) in posts\" :key=\"key\"&gt; {{ post }} &lt;/li&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script&gt;export default { data() { return { posts: [] } }, async fetch() { const { data } = await this.$axios.$get('/api/posts'); this.posts = data; }}&lt;/script&gt; å¦‚æœè¦é‡è¤‡è§¸ç™¼ fetch ç”Ÿå‘½é€±æœŸï¼Œå¯ä»¥ä½¿ç”¨ this.$fetch ä¾†å‘¼å«ï¼š &lt;template&gt; &lt;div&gt; &lt;ul&gt; &lt;li v-for=\"(post, key) in posts\" :key=\"key\"&gt; {{ post }} &lt;/li&gt; &lt;/ul&gt; &lt;button @click=\"$fetch\"&gt;é‡æ–°å–å¾—è²¼æ–‡&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; å¦‚æœæˆ‘å€‘å¸Œæœ› fetch åªåœ¨ client ç«¯é‹è¡Œï¼Œå¯ä»¥åŠ ä¸Š fetchOnServer: falseï¼ˆé è¨­ trueï¼‰ å–å¾— fetch ç‹€æ…‹æˆ‘å€‘å¯ä»¥é€é this.$fetchState å–å¾— fetch ç•¶å‰åŸ·è¡Œç‹€æ…‹ï¼Œæœ‰ä»¥ä¸‹åƒæ•¸ï¼š pendingï¼šBoolean / æ˜¯å¦åŸ·è¡Œå®Œæˆï¼Œå¯ä»¥åœ¨æ­¤åŠ å…¥ loading æ•ˆæœï¼ˆclient ç«¯ï¼‰ errorï¼šnull or Error ç‰©ä»¶ / åˆ¤æ–·æ˜¯å¦ç™¼ç”ŸéŒ¯èª¤ timestampï¼šæ•´æ•¸ / æœ€å¾Œä¸€æ¬¡åŸ·è¡Œæ™‚é–“ï¼ˆæ­é… activated ä½¿ç”¨ï¼‰ ç¯„ä¾‹ï¼š &lt;template&gt; &lt;div&gt; &lt;p v-if=\"$fetchState.pending\"&gt;Loading...&lt;/p&gt; &lt;p v-if=\"$fetchState.error\"&gt;æœ‰æ±è¥¿å‡ºéŒ¯äº†&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { data() { return { posts: [] } }, activated() { // æ¯ 30 ç§’è‡ªå‹•å‘¼å« fetch if (this.$fetchState.timestamp &lt;= Date.now() - 30000) { this.$fetch() } }, async fetch() { const { data } = await this.$axios.$get('/api/posts'); this.posts = data; }}&lt;/script&gt; ç”Ÿå‘½é€±æœŸåŸ·è¡Œé †åºæ¥è‘—æˆ‘å€‘å¾ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·è§€å¯Ÿç”Ÿå‘½é€±æœŸåŸ·è¡Œé †åº asyncData() { console.log('asyncData');},fetch() { console.log('fetch');},beforeCreate() { console.log('beforeCreate');},created() { console.log('created');},beforeMount() { console.log('beforeMount');} å¯ä»¥ç™¼ç¾ï¼Œcreated è·Ÿ beforeCreate é€™å…©å€‹ Vue.js ç”Ÿå‘½é€±æœŸæœƒåŒæ™‚å‡ºç¾åœ¨ server ç«¯è·Ÿ client ç«¯ï¼Œå¦‚æœè¦é¿å…æ–¹æ³•è¢«é‡è¤‡åŸ·è¡Œï¼Œå¯ä»¥é€™æ¨£åšï¼š åŠ ä¸Š process.client åˆ¤æ–· created(){ if (process.client){ // åŸ·è¡Œå…§å®¹ }} ä½¿ç”¨ Nuxt fetch ç”Ÿå‘½é€±æœŸ ä½¿ç”¨ Vue beforeMount ç”Ÿå‘½é€±æœŸ åƒè€ƒæ–‡ç« ï¼š https://stackoverflow.com/questions/60411436/nuxtjs-page-is-created-twice https://happy9990929.github.io/2021/09/10/vue-nuxt-lifecycle-hooks/","link":"/2022/12/03/nuxt/nuxt-lifecycle/"}],"tags":[{"name":"nuxt","slug":"nuxt","link":"/tags/nuxt/"},{"name":"nuxt.js","slug":"nuxt-js","link":"/tags/nuxt-js/"},{"name":"vue","slug":"vue","link":"/tags/vue/"},{"name":"vue.js","slug":"vue-js","link":"/tags/vue-js/"},{"name":"ssr","slug":"ssr","link":"/tags/ssr/"},{"name":"create-nuxt-app","slug":"create-nuxt-app","link":"/tags/create-nuxt-app/"}],"categories":[{"name":"Nuxt","slug":"Nuxt","link":"/categories/Nuxt/"}]}